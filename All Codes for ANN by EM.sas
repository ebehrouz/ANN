*------------------------------------------------------------*;
* EM Version: 14.3;
* SAS Release: 9.04.01M5P091317;
* Host: Behrouz-CPCSSN;
* Project Name: NVAF;
* Diagram Id: EMWS3;
* Diagram Name: NVAF Diagram;
* Generated by: Behrouz;
* Date: 30OCT2019:08:58:36;
*------------------------------------------------------------*;
*------------------------------------------------------------*;
* Macro Variables;
*------------------------------------------------------------*;
%let EM_PROJECT =;
%let EM_PROJECTNAME =;
%let EM_WSNAME =;
%let EM_WSDESCRIPTION =NVAF Diagram;
%let EM_SUMMARY =WORK.SUMMARY;
%let EM_NUMTASKS =SINGLE;
%let EM_EDITMODE =R;
%let EM_DEBUGVAL =;
%let EM_ACTION =run report;
*------------------------------------------------------------*;
%macro em_usedatatable;
%if ^%symexist(EM_USEDATATABLE) %then %do;
%let EM_USEDATATABLE = Y;
%end;
%if "&EM_USEDATATABLE" ne "N" %then %do;
%global Ids3_data Ids3_newdata;
*------------------------------------------------------------*;
* Data Tables;
*------------------------------------------------------------*;
%let Ids3_data = NVAF.TRAINING;
%let Ids3_newdata =;
*------------------------------------------------------------*;
%end;
%global Ids3_source;
%if "&Ids3_newdata" ne "" %then %do;
%let Ids3_source = USERTABLE;
%end;
%else %do;
%let Ids3_source = DATASOURCE;
%end;
%mend em_usedatatable;
%em_usedatatable;
*------------------------------------------------------------*;
* Create workspace data set;
*------------------------------------------------------------*;
data workspace;
length property $64 value $200;
property= 'PROJECTLOCATION';
value= "&EM_PROJECT";
output;
property= 'PROJECTNAME';
value= "&EM_PROJECTNAME";
output;
property= 'WORKSPACENAME';
value= "&EM_WSNAME";
output;
property= 'WORKSPACEDESCRIPTION';
value= "&EM_WSDESCRIPTION";
output;
property= 'SUMMARYDATASET';
value= "&EM_SUMMARY";
output;
property= 'NUMTASKS';
value= "&EM_NUMTASKS";
output;
property= 'EDITMODE';
value= "&EM_EDITMODE";
output;
property= 'DEBUG';
value= "&EM_DEBUGVAL";
output;
run;
*------------------------------------------------------------*;
* Create nodes data set;
*------------------------------------------------------------*;
data nodes;
length id $12 component $32 description $64 X 8 Y 8 diagramID $32 parentID $32;
id= "Trans2";
component="Transform";
description= "Transformation";
diagramID="_ROOT_";
parentID="";
X=590;
Y=112;
output;
id= "Part4";
component="Partition";
description= "Data Partition";
diagramID="_ROOT_";
parentID="";
X=746;
Y=107;
output;
id= "Impt2";
component="Impute";
description= "Imputation";
diagramID="_ROOT_";
parentID="";
X=419;
Y=113;
output;
id= "Ids3";
component="DataSource";
description= "TRAINING";
diagramID="_ROOT_";
parentID="";
X=231;
Y=113;
output;
id= "HPNNA4";
component="HPDMNeural";
description= "Neural Networks";
diagramID="_ROOT_";
parentID="";
X=1009;
Y=256;
output;
run;
*------------------------------------------------------------*;
* DataSource Properties;
*------------------------------------------------------------*;
data WORK.training_P;
  length   Property                         $ 32
           Value                            $ 200
           ;

Property="Name";
Value="TRAINING";
output;
Property="CreateDate";
Value="1876559514.5";
output;
Property="ModifyDate";
Value="1876559514.5";
output;
Property="CreatedBy";
Value="Shahriar";
output;
Property="ModifiedBy";
Value="Shahriar";
output;
Property="SampleSizeType";
Value="";
output;
Property="SampleSize";
Value="";
output;
;
run;
*------------------------------------------------------------*;
* Variable Attributes for Trans2;
*------------------------------------------------------------*;
data WORK.Trans2_VariableAttribute;
length Variable $64 AttributeName $32 AttributeValue $64;
Variable='Age';
AttributeName="METHOD";
AttributeValue='LOG10';
Output;
Variable='Visits';
AttributeName="METHOD";
AttributeValue='LOG10';
Output;
run;
*------------------------------------------------------------*;
* INTERACTION Data Set for Trans2;
*------------------------------------------------------------*;
*------------------------------------------------------------*;
* FORMULA Data Set for Trans2;
*------------------------------------------------------------*;
*------------------------------------------------------------*;
* EMNOTES File for Trans2;
*------------------------------------------------------------*;
data _null_;
if symget('sysscp')=:'WIN' then dsep='\';
else if symget('sysscp')=:'DNT' then dsep='\';
else dsep = '/';
filepath = pathname('work')!!dsep!!"Trans2_EMNOTES.txt";
call symput('DSPATH', filepath);
run;
data _null_;
filename dspath "&dspath" encoding="utf-8" NOBOM;
file dspath;
run;
*------------------------------------------------------------*;
* EMNOTES File for Part4;
*------------------------------------------------------------*;
data _null_;
if symget('sysscp')=:'WIN' then dsep='\';
else if symget('sysscp')=:'DNT' then dsep='\';
else dsep = '/';
filepath = pathname('work')!!dsep!!"Part4_EMNOTES.txt";
call symput('DSPATH', filepath);
run;
data _null_;
filename dspath "&dspath" encoding="utf-8" NOBOM;
file dspath;
run;
*------------------------------------------------------------*;
* EMNOTES File for Impt2;
*------------------------------------------------------------*;
data _null_;
if symget('sysscp')=:'WIN' then dsep='\';
else if symget('sysscp')=:'DNT' then dsep='\';
else dsep = '/';
filepath = pathname('work')!!dsep!!"Impt2_EMNOTES.txt";
call symput('DSPATH', filepath);
run;
data _null_;
filename dspath "&dspath" encoding="utf-8" NOBOM;
file dspath;
run;
*------------------------------------------------------------*;
* Variable Attributes for Ids3;
*------------------------------------------------------------*;
data WORK.Ids3_VariableAttribute;
length Variable $64 AttributeName $32 AttributeValue $64;
Variable='AMLODIPINE';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='APIXABAN';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='ASA';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='Age';
AttributeName="ROLE";
AttributeValue='REJECTED';
Output;
Variable='BISOPROLOL';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='BMI';
AttributeName="ROLE";
AttributeValue='REJECTED';
Output;
Variable='CHADS2';
AttributeName="ROLE";
AttributeValue='REJECTED';
Output;
Variable='CHADS2';
AttributeName="LEVEL";
AttributeValue='ORDINAL';
Output;
Variable='CHF';
AttributeName="ROLE";
AttributeValue='REJECTED';
Output;
Variable='CHF';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='CLOPIDOGREL';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='DABIGATRAN_E';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='Diabetes';
AttributeName="ROLE";
AttributeValue='REJECTED';
Output;
Variable='Diabetes';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='EDOXABAN';
AttributeName="ROLE";
AttributeValue='REJECTED';
Output;
Variable='EDOXABAN';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='FUROSEMIDE';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='GLYCERYL_T';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='HYDROCHLOROTHIAZIDE';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='Hypertension';
AttributeName="ROLE";
AttributeValue='REJECTED';
Output;
Variable='Hypertension';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='INR';
AttributeName="ROLE";
AttributeValue='REJECTED';
Output;
Variable='INR';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='Location';
AttributeName="ROLE";
AttributeValue='REJECTED';
Output;
Variable='METOPROLOL';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='NVAF';
AttributeName="ROLE";
AttributeValue='TARGET';
Output;
Variable='NVAF';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='Network_ID';
AttributeName="DROP";
AttributeValue='Y';
Output;
Variable='PRASUGREL';
AttributeName="ROLE";
AttributeValue='REJECTED';
Output;
Variable='PRASUGREL';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='RAMIPRIL';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='RIVAROXABAN';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='ROSUVASTATIN';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='Referral';
AttributeName="ROLE";
AttributeValue='REJECTED';
Output;
Variable='Referral';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='Sex';
AttributeName="ROLE";
AttributeValue='REJECTED';
Output;
Variable='TIA';
AttributeName="ROLE";
AttributeValue='REJECTED';
Output;
Variable='TIA';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='TICAGRELOR';
AttributeName="ROLE";
AttributeValue='REJECTED';
Output;
Variable='TICAGRELOR';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='Visits';
AttributeName="ROLE";
AttributeValue='REJECTED';
Output;
Variable='WARFARIN';
AttributeName="LEVEL";
AttributeValue='BINARY';
Output;
Variable='count';
AttributeName="ROLE";
AttributeValue='REJECTED';
Output;
Variable='count';
AttributeName="DROP";
AttributeValue='Y';
Output;
run;
*------------------------------------------------------------*;
* Decmeta Data Set for Ids3;
*------------------------------------------------------------*;
data WORK.Ids3_NVAF_DM;
  length   _TYPE_                           $ 32
           VARIABLE                         $ 32
           LABEL                            $ 256
           LEVEL                            $ 32
           EVENT                            $ 32
           ORDER                            $ 10
           FORMAT                           $ 32
           TYPE                             $ 1
           COST                             $ 32
           USE                              $ 1
           ;

  label    _TYPE_="Type"
           VARIABLE="Variable"
           LABEL="Label"
           LEVEL="Measurement Level"
           EVENT="Target Event"
           ORDER="Order"
           FORMAT="Format"
           TYPE="Type"
           COST="Cost"
           USE="Use"
           ;
_TYPE_="MATRIX";
VARIABLE="";
LABEL="";
LEVEL="PROFIT";
EVENT="";
ORDER="";
FORMAT="";
TYPE="";
COST="";
USE="N";
output;
_TYPE_="TARGET";
VARIABLE="NVAF";
LABEL="";
LEVEL="BINARY";
EVENT="1";
ORDER="";
FORMAT="";
TYPE="N";
COST="";
USE="";
output;
_TYPE_="DECISION";
VARIABLE="DECISION1";
LABEL="1";
LEVEL="";
EVENT="";
ORDER="";
FORMAT="";
TYPE="N";
COST="";
USE="Y";
output;
_TYPE_="DECISION";
VARIABLE="DECISION2";
LABEL="0";
LEVEL="";
EVENT="";
ORDER="";
FORMAT="";
TYPE="N";
COST="";
USE="Y";
output;
_TYPE_="DATAPRIOR";
VARIABLE="DATAPRIOR";
LABEL="Data Prior";
LEVEL="";
EVENT="";
ORDER="";
FORMAT="";
TYPE="N";
COST="";
USE="N";
output;
_TYPE_="TRAINPRIOR";
VARIABLE="TRAINPRIOR";
LABEL="Training Prior";
LEVEL="";
EVENT="";
ORDER="";
FORMAT="";
TYPE="N";
COST="";
USE="N";
output;
_TYPE_="DECPRIOR";
VARIABLE="DECPRIOR";
LABEL="Decision Prior";
LEVEL="";
EVENT="";
ORDER="";
FORMAT="";
TYPE="N";
COST="";
USE="N";
output;
_TYPE_="PREDICTED";
VARIABLE="P_NVAF1";
LABEL="Predicted: NVAF=1";
LEVEL="1";
EVENT="";
ORDER="";
FORMAT="";
TYPE="N";
COST="";
USE="";
output;
_TYPE_="RESIDUAL";
VARIABLE="R_NVAF1";
LABEL="Residual: NVAF=1";
LEVEL="1";
EVENT="";
ORDER="";
FORMAT="";
TYPE="N";
COST="";
USE="";
output;
_TYPE_="PREDICTED";
VARIABLE="P_NVAF0";
LABEL="Predicted: NVAF=0";
LEVEL="0";
EVENT="";
ORDER="";
FORMAT="";
TYPE="N";
COST="";
USE="";
output;
_TYPE_="RESIDUAL";
VARIABLE="R_NVAF0";
LABEL="Residual: NVAF=0";
LEVEL="0";
EVENT="";
ORDER="";
FORMAT="";
TYPE="N";
COST="";
USE="";
output;
_TYPE_="FROM";
VARIABLE="F_NVAF";
LABEL="From: NVAF";
LEVEL="";
EVENT="";
ORDER="";
FORMAT="";
TYPE="C";
COST="";
USE="";
output;
_TYPE_="INTO";
VARIABLE="I_NVAF";
LABEL="Into: NVAF";
LEVEL="";
EVENT="";
ORDER="";
FORMAT="";
TYPE="C";
COST="";
USE="";
output;
;
run;
*------------------------------------------------------------*;
* Decdata Data Set for Ids3;
*------------------------------------------------------------*;
data WORK.Ids3_NVAF_DD;
  length   NVAF                             $ 32
           COUNT                              8
           DATAPRIOR                          8
           TRAINPRIOR                         8
           DECPRIOR                           8
           DECISION1                          8
           DECISION2                          8
           ;

  label    COUNT="Level Counts"
           DATAPRIOR="Data Proportions"
           TRAINPRIOR="Training Proportions"
           DECPRIOR="Decision Priors"
           DECISION1="1"
           DECISION2="0"
           ;
  format   COUNT 10.
           ;
NVAF="1";
COUNT=16853;
DATAPRIOR=0.0149157300636;
TRAINPRIOR=0.0149157300636;
DECPRIOR=.;
DECISION1=1;
DECISION2=0;
output;
NVAF="0";
COUNT=1113028;
DATAPRIOR=0.98508426993639;
TRAINPRIOR=0.98508426993639;
DECPRIOR=.;
DECISION1=0;
DECISION2=1;
output;
;
run;
*------------------------------------------------------------*;
* EMNOTES File for Ids3;
*------------------------------------------------------------*;
data _null_;
if symget('sysscp')=:'WIN' then dsep='\';
else if symget('sysscp')=:'DNT' then dsep='\';
else dsep = '/';
filepath = pathname('work')!!dsep!!"Ids3_EMNOTES.txt";
call symput('DSPATH', filepath);
run;
data _null_;
filename dspath "&dspath" encoding="utf-8" NOBOM;
file dspath;
run;
*------------------------------------------------------------*;
* Variable Attributes for HPNNA4;
*------------------------------------------------------------*;
data WORK.HPNNA4_VariableAttribute;
length Variable $64 AttributeName $32 AttributeValue $64;
Variable='CLOPIDOGREL';
AttributeName="USE";
AttributeValue='N';
Output;
run;
*------------------------------------------------------------*;
* USERTRAINCODE File for HPNNA4;
*------------------------------------------------------------*;
data _null_;
if symget('sysscp')=:'WIN' then dsep='\';
else if symget('sysscp')=:'DNT' then dsep='\';
else dsep = '/';
filepath = pathname('work')!!dsep!!"HPNNA4_USERTRAINCODE.sas";
call symput('DSPATH', filepath);
run;
data _null_;
filename dspath "&dspath";
file dspath;
run;
*------------------------------------------------------------*;
* HIDDENOPTIONS Data Set for HPNNA4;
*------------------------------------------------------------*;
*------------------------------------------------------------*;
* EMNOTES File for HPNNA4;
*------------------------------------------------------------*;
data _null_;
if symget('sysscp')=:'WIN' then dsep='\';
else if symget('sysscp')=:'DNT' then dsep='\';
else dsep = '/';
filepath = pathname('work')!!dsep!!"HPNNA4_EMNOTES.txt";
call symput('DSPATH', filepath);
run;
data _null_;
filename dspath "&dspath" encoding="utf-8" NOBOM;
file dspath;
run;
*------------------------------------------------------------*;
* Create node properties data set;
*------------------------------------------------------------*;
data nodeprops;
length id $12 property $64 value $400;
id= "Trans2";
property="DefaultMethod";
value= "NONE";
output;
id= "Trans2";
property="DefaultTargetMethod";
value= "NONE";
output;
id= "Trans2";
property="DefaultClassMethod";
value= "NONE";
output;
id= "Trans2";
property="DefaultClassTargetMethod";
value= "NONE";
output;
id= "Trans2";
property="Offset";
value= "1";
output;
id= "Trans2";
property="MinOffset";
value= "Y";
output;
id= "Trans2";
property="HideVariable";
value= "Y";
output;
id= "Trans2";
property="RejectVariable";
value= "Y";
output;
id= "Trans2";
property="GroupCutoff";
value= "0.1";
output;
id= "Trans2";
property="GroupMissing";
value= "N";
output;
id= "Trans2";
property="EmRandomSeed";
value= "12345";
output;
id= "Trans2";
property="EmSampleSize";
value= "DEFAULT";
output;
id= "Trans2";
property="EmSampleMethod";
value= "FIRSTN";
output;
id= "Trans2";
property="MissingValue";
value= "USEINSEARCH";
output;
id= "Trans2";
property="SummaryVariables";
value= "TRANSFORMED";
output;
id= "Trans2";
property="SummaryStatistics";
value= "Y";
output;
id= "Trans2";
property="UseMetaTransform";
value= "Y";
output;
id= "Trans2";
property="MissingAsLevel";
value= "N";
output;
id= "Trans2";
property="NumberofBins";
value= "VARIABLES";
output;
id= "Trans2";
property="MaxOptimalBins";
value= "4";
output;
id= "Trans2";
property="ForceRun";
value= "N";
output;
id= "Trans2";
property="RunAction";
value= "Train";
output;
id= "Trans2";
property="Component";
value= "Transform";
output;
id= "Trans2";
property="EM_VARIABLEATTRIBUTES";
value= "WORK.Trans2_VariableAttribute";
output;
id= "Trans2";
property="EM_FILE_EMNOTES";
value= "Trans2_EMNOTES.txt";
output;
id= "Part4";
property="Method";
value= "DEFAULT";
output;
id= "Part4";
property="TrainPct";
value= "40";
output;
id= "Part4";
property="ValidatePct";
value= "30";
output;
id= "Part4";
property="TestPct";
value= "30";
output;
id= "Part4";
property="RandomSeed";
value= "12345";
output;
id= "Part4";
property="OutputType";
value= "DATA";
output;
id= "Part4";
property="IntervalDistribution";
value= "Y";
output;
id= "Part4";
property="ClassDistribution";
value= "Y";
output;
id= "Part4";
property="ForceRun";
value= "N";
output;
id= "Part4";
property="RunAction";
value= "Train";
output;
id= "Part4";
property="Component";
value= "Partition";
output;
id= "Part4";
property="EM_FILE_EMNOTES";
value= "Part4_EMNOTES.txt";
output;
id= "Impt2";
property="MethodInterval";
value= "MEDIAN";
output;
id= "Impt2";
property="MethodClass";
value= "TREESURR";
output;
id= "Impt2";
property="MethodTargetInterval";
value= "NONE";
output;
id= "Impt2";
property="MethodTargetClass";
value= "NONE";
output;
id= "Impt2";
property="ABWTuning";
value= "9";
output;
id= "Impt2";
property="AHUBERTuning";
value= "1.5";
output;
id= "Impt2";
property="AWAVETuning";
value= "6.2831853072";
output;
id= "Impt2";
property="SpacingProportion";
value= "90";
output;
id= "Impt2";
property="DefaultChar";
value= "";
output;
id= "Impt2";
property="DefaultNum";
value= ".";
output;
id= "Impt2";
property="RandomSeed";
value= "12345";
output;
id= "Impt2";
property="Normalize";
value= "Y";
output;
id= "Impt2";
property="ImputeNoMissing";
value= "N";
output;
id= "Impt2";
property="MaxPctMissing";
value= "50";
output;
id= "Impt2";
property="ValidateTestMissing";
value= "N";
output;
id= "Impt2";
property="DistributionMissing";
value= "N";
output;
id= "Impt2";
property="LeafSize";
value= "5";
output;
id= "Impt2";
property="Maxbranch";
value= "2";
output;
id= "Impt2";
property="Maxdepth";
value= "6";
output;
id= "Impt2";
property="MinCatSize";
value= "5";
output;
id= "Impt2";
property="Nrules";
value= "5";
output;
id= "Impt2";
property="Nsurrs";
value= "2";
output;
id= "Impt2";
property="Splitsize";
value= ".";
output;
id= "Impt2";
property="Indicator";
value= "NONE";
output;
id= "Impt2";
property="IndicatorRole";
value= "REJECTED";
output;
id= "Impt2";
property="ReplaceVariable";
value= "N";
output;
id= "Impt2";
property="HideVariable";
value= "Y";
output;
id= "Impt2";
property="IndicatorSource";
value= "IMPUTED";
output;
id= "Impt2";
property="ForceRun";
value= "N";
output;
id= "Impt2";
property="RunAction";
value= "Train";
output;
id= "Impt2";
property="Component";
value= "Impute";
output;
id= "Impt2";
property="EM_FILE_EMNOTES";
value= "Impt2_EMNOTES.txt";
output;
id= "Ids3";
property="DataSource";
value= "training";
output;
id= "Ids3";
property="Scope";
value= "LOCAL";
output;
id= "Ids3";
property="Role";
value= "RAW";
output;
%let Ids3_lib = %scan(&Ids3_data, 1, .);
id= "Ids3";
property="Library";
value= "&Ids3_lib";
output;
%let Ids3_member = %scan(&Ids3_data, 2, .);
id= "Ids3";
property="Table";
value= "&Ids3_member";
output;
id= "Ids3";
property="NCols";
value= "33";
output;
id= "Ids3";
property="NObs";
value= "1129881";
output;
id= "Ids3";
property="NBytes";
value= ".";
output;
id= "Ids3";
property="Segment";
value= "";
output;
id= "Ids3";
property="DataSourceRole";
value= "RAW";
output;
id= "Ids3";
property="OutputType";
value= "VIEW";
output;
id= "Ids3";
property="ForceRun";
value= "N";
output;
id= "Ids3";
property="ComputeStatistics";
value= "N";
output;
id= "Ids3";
property="DataSelection";
value= "&Ids3_source";
output;
id= "Ids3";
property="NewTable";
value= "&Ids3_newdata";
output;
id= "Ids3";
property="MetaAdvisor";
value= "BASIC";
output;
id= "Ids3";
property="ApplyIntervalLevelLowerLimit";
value= "Y";
output;
id= "Ids3";
property="IntervalLowerLimit";
value= "20";
output;
id= "Ids3";
property="ApplyMaxPercentMissing";
value= "Y";
output;
id= "Ids3";
property="MaxPercentMissing";
value= "50";
output;
id= "Ids3";
property="ApplyMaxClassLevels";
value= "Y";
output;
id= "Ids3";
property="MaxClassLevels";
value= "20";
output;
id= "Ids3";
property="IdentifyEmptyColumns";
value= "Y";
output;
id= "Ids3";
property="VariableValidation";
value= "STRICT";
output;
id= "Ids3";
property="NewVariableRole";
value= "REJECT";
output;
id= "Ids3";
property="DropMapVariables";
value= "Y";
output;
id= "Ids3";
property="DsId";
value= "training";
output;
id= "Ids3";
property="DsSampleName";
value= "";
output;
id= "Ids3";
property="DsSampleSizeType";
value= "";
output;
id= "Ids3";
property="DsSampleSize";
value= "";
output;
id= "Ids3";
property="DsCreatedBy";
value= "Shahriar";
output;
id= "Ids3";
property="DsCreateDate";
value= "1876559514.5";
output;
id= "Ids3";
property="DsModifiedBy";
value= "Shahriar";
output;
id= "Ids3";
property="DsModifyDate";
value= "1876559514.5";
output;
id= "Ids3";
property="DsScope";
value= "LOCAL";
output;
id= "Ids3";
property="Sample";
value= "D";
output;
id= "Ids3";
property="SampleSizeType";
value= "PERCENT";
output;
id= "Ids3";
property="SampleSizePercent";
value= "20";
output;
id= "Ids3";
property="SampleSizeObs";
value= "10000";
output;
id= "Ids3";
property="DBPassThrough";
value= "Y";
output;
id= "Ids3";
property="RunAction";
value= "Train";
output;
id= "Ids3";
property="Component";
value= "DataSource";
output;
id= "Ids3";
property="Description";
value= "";
output;
id= "Ids3";
property="EM_VARIABLEATTRIBUTES";
value= "WORK.Ids3_VariableAttribute";
output;
id= "Ids3";
property="EM_DECMETA_NVAF";
value= "WORK.Ids3_NVAF_DM";
output;
id= "Ids3";
property="EM_DECDATA_NVAF";
value= "WORK.Ids3_NVAF_DD";
output;
id= "Ids3";
property="EM_FILE_EMNOTES";
value= "Ids3_EMNOTES.txt";
output;
id= "HPNNA4";
property="Location";
value= "CATALOG";
output;
id= "HPNNA4";
property="Catalog";
value= "SASHELP.HPDM.HPDMNeural.SOURCE";
output;
id= "HPNNA4";
property="ToolType";
value= "MODEL";
output;
id= "HPNNA4";
property="InputStd";
value= "RANGE";
output;
id= "HPNNA4";
property="HIDDEN";
value= "3";
output;
id= "HPNNA4";
property="HIDDENLAYERS";
value= "3";
output;
id= "HPNNA4";
property="ARCHITECTURE";
value= "LAYER1SKIP";
output;
id= "HPNNA4";
property="DIRECTCONN";
value= "N";
output;
id= "HPNNA4";
property="TargetStd";
value= "RANGE";
output;
id= "HPNNA4";
property="TargetActivation";
value= "IDENTITY";
output;
id= "HPNNA4";
property="TargetError";
value= "NORMAL";
output;
id= "HPNNA4";
property="OPTMETHOD";
value= "LBFGS";
output;
id= "HPNNA4";
property="NUMTRIES";
value= "2";
output;
id= "HPNNA4";
property="MAXITER";
value= "300";
output;
id= "HPNNA4";
property="USEVALID";
value= "N";
output;
id= "HPNNA4";
property="USEINVERSE";
value= "N";
output;
id= "HPNNA4";
property="MISSASLVL";
value= "N";
output;
id= "HPNNA4";
property="MAXLINKS";
value= "1000";
output;
id= "HPNNA4";
property="ForceRun";
value= "N";
output;
id= "HPNNA4";
property="RunAction";
value= "Train";
output;
id= "HPNNA4";
property="Component";
value= "HPDMNeural";
output;
id= "HPNNA4";
property="TableEditor";
value= "";
output;
id= "HPNNA4";
property="ToolPrefix";
value= "HPNNA";
output;
id= "HPNNA4";
property="EM_VARIABLEATTRIBUTES";
value= "WORK.HPNNA4_VariableAttribute";
output;
id= "HPNNA4";
property="EM_FILE_USERTRAINCODE";
value= "HPNNA4_USERTRAINCODE.sas";
output;
id= "HPNNA4";
property="EM_FILE_EMNOTES";
value= "HPNNA4_EMNOTES.txt";
output;
run;
*------------------------------------------------------------*;
* Create connections data set;
*------------------------------------------------------------*;
data connect;
length from to $12;
from="Ids3";
to="Impt2";
output;
from="Part4";
to="HPNNA4";
output;
from="Trans2";
to="Part4";
output;
from="Impt2";
to="Trans2";
output;
run;
*------------------------------------------------------------*;
* Create actions to run data set;
*------------------------------------------------------------*;
%macro emaction;
%let actionstring = %upcase(&EM_ACTION);
%if %index(&actionstring, RUN) or %index(&actionstring, REPORT) %then %do;
data actions;
length id $12 action $40;
id="HPNNA4";
%if %index(&actionstring, RUN) %then %do;
action='run';
output;
%end;
%if %index(&actionstring, REPORT) %then %do;
action='report';
output;
%end;
run;
%end;
%mend;
%emaction;
*------------------------------------------------------------*;
* Execute the actions;
*------------------------------------------------------------*;
%em5batch(execute, workspace=workspace, nodes=nodes, connect=connect, datasources=datasources, nodeprops=nodeprops, action=actions);
